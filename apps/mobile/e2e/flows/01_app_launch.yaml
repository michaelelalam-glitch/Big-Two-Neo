# Flow 01: App Launch & Sign-In Screen
# Validates: App launches correctly, sign-in screen renders with expected UI
# Tags: smoke, auth, ci
#
# This is the most basic E2E test — verifies the app boots and displays
# the authentication screen for unauthenticated users.
# Runs in CI without authentication (ci tag).
#
# Note: Uses text-based selectors rather than testID because SafeAreaView
# and container components may not expose testID in the iOS accessibility
# hierarchy that Maestro inspects.

appId: com.big2mobile.app
tags:
  - smoke
  - auth
  - ci
---
# Step 1: Launch with clean state to ensure unauthenticated
- launchApp:
    clearState: true

# Step 2: Wait for app to fully load (splash screen → sign-in)
# Use text selector — most reliable on first cold launch
- extendedWaitUntil:
    visible: "Welcome to Big2"
    timeout: 45000

# Step 3: Verify sign-in screen content
- assertVisible: "Welcome to Big2"
- assertVisible: "Sign in to play with friends"

# Step 4: Verify sign-in buttons are present
- assertVisible: "Sign in with Google"

# Step 5: Take screenshot for visual regression
- takeScreenshot: "01_sign_in_screen"
